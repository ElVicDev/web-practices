<!-- Este es un primer ejemplo de uso de una plantilla. -->

<head>

<!-- Incluya nuestras bibliotecas y archivos css. -->

<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/handlebars-v3.0.3.js"></script>

<script src="js/bootstrap.min.js"></script>

<script src="AnimalsData.js"></script>


<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/gallery.css" rel="stylesheet">

</head>

<body>

    <div id="container">
        <div class="row">
            <div class="col-md-2">
                <div id="content_left">
                    <!-- La lista de animales se muestra aquí. -->
                </div>
            </div>
            <div class="col-md-10">
                <div id="content_right">
                    <!-- Aquí se representan detalles de animales. -->
                </div>
            </div>
            </div>
    </div>

    <!-- Esta es nuestra plantilla, coloque su código aquí: -->
    <script id="category-template" type="text/x-handlebars-template">
        <ul class="nav nav-pills nav-stacked nav-pills-stacked-example">
        {{#each animals}}
            <!--    Tenga en cuenta que configuramos la clase con el nombre js-animal. 
                    Esto nos permite asignar un evento de clic a esta li. -->
            <li><a href="#" class="js-animal-name" data-id="{{name}}">{{name}}</a></li>
        {{/each}}
        </ul>
    </script>

    <script id="animal-detail-template" type="text/x-handlebars-template">
        <h2>{{name}}</h2>
    </script>

  <!-- Código JavaScript para rellenar la plantilla. -->
  <script type="text/javascript">

    // Obtenga nuestro código de plantilla del DOM.
    var source   = $("#category-template").html();

    // Compila la plantilla para que podamos utilizarla.
    var template = Handlebars.compile(source);

    // Generar HTML a partir de los datos.
    var html    = template(animals_data);

    // Añade el HTML al contenido div.
    $('#content_left').html(html);

    // Este detector de eventos se activa cuando el usuario hace clic en el nombre de un animal.
    $('.js-animal-name').on('click', function(e){
        var animal_name = $(e.target).data('id');// Extraiga el atributo data-id, que contiene el nombre.
        console.log('rendering detail page for '+animal_name);
        for (var i=0;i<animals_data.animals.length;i++){// Busque el animal en el array de animales.
            var an_animal = animals_data.animals[i];
            if (an_animal.name == animal_name){// ¡Lo encontré!
                break;
            }
        }
    /*  AQUÍ ES DONDE ENTRA USTED...
        Complete los siguientes espacios en blanco:
        1) Cargue el contenido HTML de la plantilla de detalles de animales en una variable llamada fuentes */

        //var source  = ... ?

        /* 2) compila el contenido de esa variable usando Handlebars y almacénalo en */

        //var template = ...?

        /* 3) Llamar a la función de plantilla, pasándole la variable 'an_animal' 
            para representar los datos del animal con la plantilla y almacenar 
            los resultados en una variable. */

        //var html = ... ?

        /* 4) Finalmente, reemplace el contenido del div con id #content_right 
            con los resultados de la representación de su plantilla. */

        //$('#content_right')...?

    });
  </script>

</body>
